(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[927],{5287:(e,r,a)=>{Promise.resolve().then(a.bind(a,9508))},9508:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o});var t=a(6814),d=a(2094),l=a(217),s=a(6271),n=a(6979);function o(){let[e,r]=(0,d.useState)({name:"",amount:0}),[a,o]=(0,d.useState)(null),[i,g]=(0,d.useState)({name:"",amount:0}),[u,c]=(0,d.useState)(null),[b,m]=(0,d.useState)(null),x=(0,s.kk)(()=>l.db.budgetEntries.toArray(),[],[]),h=async a=>{if(a.preventDefault(),e.name&&e.amount)try{await l.db.addBudgetEntry(e),r({name:"",amount:0}),m("Budget added successfully!"),setTimeout(()=>m(null),n.Ez)}catch(e){console.error("Error adding budget:",e),c("Failed to add budget")}},y=e=>{o(e),g({name:e.name,amount:e.amount})},p=async e=>{if(e.preventDefault(),(null==a?void 0:a.id)&&i.name&&i.amount)try{await l.db.updateBudgetEntry(a.id,i),o(null),m("Budget updated successfully!"),setTimeout(()=>m(null),n.Ez)}catch(e){console.error("Error updating budget:",e),c("Failed to update budget")}},k=()=>{o(null),g({name:"",amount:0})},v=async e=>{try{await l.db.deleteBudgetEntry(e),m("Budget deleted successfully!"),setTimeout(()=>m(null),n.Ez)}catch(e){console.error("Error deleting budget:",e),c("Failed to delete budget")}};return(0,t.jsx)("div",{className:n.Z,children:(0,t.jsxs)("div",{className:n.zi,children:[(0,t.jsx)("h1",{className:n.uQ,children:"Budgets"}),u&&(0,t.jsx)("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded mb-6",children:u}),b&&(0,t.jsx)("div",{className:"bg-green-100 dark:bg-green-900/20 border border-green-400 dark:border-green-800 text-green-700 dark:text-green-400 px-4 py-3 rounded mb-6",children:b}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow dark:shadow-gray-900/50 mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Add New Budget"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget Name"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Monthly Groceries",value:e.name,onChange:a=>r({...e,name:a.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),(0,t.jsx)("input",{type:"number",placeholder:"0.00",value:e.amount,onChange:a=>r({...e,amount:parseFloat(a.target.value)||0}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",step:"0.01",min:"0",required:!0})]})]}),(0,t.jsx)("div",{className:"flex justify-center md:justify-start",children:(0,t.jsx)("button",{type:"submit",className:"w-full md:w-auto bg-blue-600 dark:bg-blue-500 text-white px-8 py-3 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 font-medium transition-colors",children:"Add Budget"})})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow dark:shadow-gray-900/50",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold p-6 border-b border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white",children:"Your Budgets"}),x&&x.length>0?(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:x.map(e=>(0,t.jsx)("div",{className:"p-6",children:(null==a?void 0:a.id)===e.id?(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget Name"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Monthly Groceries",value:i.name,onChange:e=>g({...i,name:e.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),(0,t.jsx)("input",{type:"number",placeholder:"0.00",value:i.amount,onChange:e=>g({...i,amount:parseFloat(e.target.value)||0}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",step:"0.01",min:"0",required:!0})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"submit",className:"bg-green-600 dark:bg-green-500 text-white px-4 py-2 rounded hover:bg-green-700 dark:hover:bg-green-600 transition-colors duration-200",children:"Save Changes"}),(0,t.jsx)("button",{type:"button",onClick:k,className:"bg-gray-600 dark:bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors duration-200",children:"Cancel"})]})]}):(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:e.name}),(0,t.jsx)("p",{className:"text-green-600 dark:text-green-400 text-xl font-bold",children:e.amount.toFixed(2)}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Created: ",e.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>y(e),className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors duration-200",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>e.id&&v(e.id),className:"bg-red-600 dark:bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700 dark:hover:bg-red-600 transition-colors duration-200",children:"Delete"})]})]})},e.id))}):(0,t.jsx)("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No budgets found. Create your first budget above."})]})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[271,151,788,97,358],()=>r(5287)),_N_E=e.O()}]);