(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{76:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var r=a(6814),s=a(2094),n=a(217),d=a(6271),i=a(324);function l(){let[e,t]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),[u,p]=(0,s.useState)(null),m=(0,d.kk)(()=>n.db.receipts.orderBy("createdAt").reverse().limit(5).toArray(),[],[]),x=(0,s.useCallback)(e=>{try{let t=Object.fromEntries(new URLSearchParams(e));if(!["t","s","fn","i","fp","n"].every(e=>t.hasOwnProperty(e)))return null;return{t:t.t||"",s:t.s||"",fn:t.fn||"",i:t.i||"",fp:t.fp||"",n:t.n||""}}catch(e){return null}},[]),h=(0,s.useCallback)(async e=>{if(!e)return;l(e),c(null),p(null);let t=x(e);if(!t)return void c("QR code does not contain valid receipt data. Required: t, s, fn, i, fp, n");try{await n.db.addReceipt(t),p("Receipt added successfully!"),setTimeout(()=>p(null),3e3)}catch(e){c("Failed to add receipt to database")}},[x]),g=(0,s.useCallback)(e=>{c("Failed to scan QR code. Please try again.")},[]);return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center",children:"QR Receipt Scanner"}),o&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),u&&(0,r.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:u}),(0,r.jsx)("div",{className:"flex justify-center space-x-4 mb-4",children:(0,r.jsx)("button",{onClick:()=>t(e=>!e),className:"px-6 py-3 rounded-lg font-semibold ".concat(e?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"),children:e?"Stop Scanning":"Start Camera Scanner"})}),e&&(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[(0,r.jsx)("div",{className:"text-center mb-4",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Position the QR code within the scanner"})}),(0,r.jsx)("div",{className:"w-full max-w-md mx-auto",style:{width:"100%"},children:(0,r.jsx)(i.Lp,{onScan:e=>{e&&e.length>0&&e[0].rawValue&&h(e[0].rawValue)},onError:g,constraints:{facingMode:"environment"}})})]}),a&&(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Last Processed:"}),(0,r.jsx)("div",{className:"bg-white p-3 rounded border font-mono text-sm break-all",children:a})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Receipts"}),m&&m.length>0?(0,r.jsx)("div",{className:"space-y-3",children:m.map(e=>(0,r.jsxs)("div",{className:"border rounded p-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Timestamp:"})," ",e.t]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Sum:"})," ",e.s]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Fiscal Number:"})," ",e.fn]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Receipt Number:"})," ",e.i]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Fiscal Sign:"})," ",e.fp]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Type:"})," ",e.n]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Added: ",e.createdAt?new Date(e.createdAt).toLocaleString():"Unknown"]})]},e.id))}):(0,r.jsx)("p",{className:"text-gray-500 text-center",children:"No receipts scanned yet"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"How to use:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,r.jsx)("li",{children:'Click "Start Camera Scanner" to activate the camera'}),(0,r.jsx)("li",{children:"Position the QR code within the scanner view"}),(0,r.jsx)("li",{children:"The scanner will automatically detect and parse receipt data"}),(0,r.jsx)("li",{children:"Valid receipts will be automatically added to the database"}),(0,r.jsx)("li",{children:"Recent receipts are shown below"})]})]})]})}},217:(e,t,a)=>{"use strict";a.d(t,{db:()=>n});var r=a(1282);class s extends r.Ay{async addBudgetEntry(e){let t={...e,createdAt:new Date,updatedAt:new Date};return await this.budgetEntries.add(t)}async updateBudgetEntry(e,t){let a={...t,updatedAt:new Date};await this.budgetEntries.update(e,a)}async deleteBudgetEntry(e){await this.categories.where("budgetId").equals(e).delete(),await this.budgetEntries.delete(e)}async addCategory(e){let t={...e,createdAt:new Date,updatedAt:new Date};return await this.categories.add(t)}async updateCategory(e,t){let a={...t,updatedAt:new Date};await this.categories.update(e,a)}async deleteCategory(e){await this.transactions.where("categoryId").equals(e).modify({categoryId:0}),await this.categories.delete(e)}async getCategoriesByBudget(e){return await this.categories.where("budgetId").equals(e).toArray()}async addTransaction(e){let t={...e,createdAt:new Date,updatedAt:new Date};return await this.transactions.add(t)}async updateTransaction(e,t){let a={...t,updatedAt:new Date};await this.transactions.update(e,a)}async deleteTransaction(e){await this.receipts.where("transactionId").equals(e).modify({transactionId:void 0}),await this.transactions.delete(e)}async getTransactionsByCategory(e){return await this.transactions.where("categoryId").equals(e).toArray()}async getTransactionsByDateRange(e,t){return await this.transactions.where("date").between(e,t).toArray()}async addReceipt(e){let t={...e,createdAt:new Date,updatedAt:new Date};return await this.receipts.add(t)}async updateReceipt(e,t){let a={...t,updatedAt:new Date};await this.receipts.update(e,a)}async deleteReceipt(e){await this.transactions.where("receiptId").equals(e).modify({receiptId:void 0}),await this.receipts.delete(e)}async getReceiptByTransaction(e){return await this.receipts.where("transactionId").equals(e).first()}async getTransactionWithDetails(e){let t=await this.transactions.get(e);if(!t)return;let a=await this.categories.get(t.categoryId),r=t.receiptId?await this.receipts.get(t.receiptId):void 0;return{transaction:t,category:a,receipt:r}}async getBudgetWithCategories(e){let t=await this.budgetEntries.get(e);if(t)return{budget:t,categories:await this.getCategoriesByBudget(e)}}constructor(){super("FinanceDatabase"),this.version(1).stores({budgetEntries:"++id, name, amount, createdAt, updatedAt",categories:"++id, name, description, budgetId, createdAt, updatedAt",transactions:"++id, date, categoryId, payerPayee, amount, direction, receiptId, createdAt, updatedAt",receipts:"++id, t, s, fn, i, fp, n, transactionId, createdAt, updatedAt"}),this.version(2).stores({budgetEntries:"++id, name, amount, createdAt, updatedAt",categories:"++id, name, description, budgetId, createdAt, updatedAt",transactions:"++id, date, categoryId, payerPayee, amount, direction, receiptId, createdAt, updatedAt, [categoryId+date]",receipts:"++id, t, s, fn, i, fp, n, transactionId, createdAt, updatedAt"})}}let n=new s},1058:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(6814),s=a(2094);function n(){let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{t(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),n(window.matchMedia("(display-mode: standalone)").matches)},[]),a)?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Install App"}),(0,r.jsx)("button",{children:"Add to Home Screen"}),e&&(0,r.jsxs)("p",{children:["To install this app on your iOS device, tap the share button",(0,r.jsxs)("span",{role:"img","aria-label":"share icon",children:[" ","⎋"," "]}),'and then "Add to Home Screen"',(0,r.jsxs)("span",{role:"img","aria-label":"plus icon",children:[" ","➕"," "]}),"."]})]})}},2484:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(6814),s=a(2094);let n=e=>{let{items:t,onChange:a,allowEdit:n=!0,allowDelete:d=!0,allowValueEdit:i=!0}=e,[l,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[y,j]=(0,s.useState)(""),v=e=>{u(e),b(t[e].key),j(t[e].value)},f=e=>{!g.trim()||t.some((t,a)=>t.key===g&&a!==e)||(a(t.map((t,a)=>a===e?{key:g,value:y}:t)),u(null))},w=e=>{a(t.filter((t,a)=>a!==e)),l===e&&o(null)};return(0,r.jsxs)("div",{className:"w-full max-w-md mx-auto p-4 border rounded bg-white",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Key-Value CRUD"}),(0,r.jsxs)("div",{className:"mb-4 flex space-x-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Key",value:p,onChange:e=>m(e.target.value),className:"border px-2 py-1 rounded flex-1"}),(0,r.jsx)("input",{type:"text",placeholder:"Value",value:x,onChange:e=>h(e.target.value),className:"border px-2 py-1 rounded flex-1",disabled:!i}),(0,r.jsx)("button",{onClick:()=>{!p.trim()||t.some(e=>e.key===p)||(a([...t,{key:p,value:x}]),m(""),h(""))},className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:"Add"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("select",{className:"w-full border rounded px-2 py-1 mb-2",size:Math.min(6,t.length),value:null!==l?l:"",onChange:e=>o(Number(e.target.value)),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:0===t.length?"No items":"Select item"}),t.map((e,t)=>(0,r.jsxs)("option",{value:t,children:[e.key,": ",e.value]},e.key))]})}),(0,r.jsx)("ul",{className:"space-y-2",children:t.map((e,t)=>(0,r.jsx)("li",{className:"flex items-center space-x-2 p-2 rounded ".concat(l===t?"bg-blue-50":""),children:c===t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),className:"border px-1 py-0.5 rounded w-24",disabled:!n}),(0,r.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),className:"border px-1 py-0.5 rounded w-32",disabled:!i}),n&&(0,r.jsx)("button",{onClick:()=>f(t),className:"bg-blue-600 text-white px-2 py-0.5 rounded hover:bg-blue-700",children:"Save"}),(0,r.jsx)("button",{onClick:()=>u(null),className:"text-gray-500 px-2 py-0.5 rounded hover:bg-gray-100",children:"Cancel"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"font-mono",children:e.key}),(0,r.jsx)("span",{children:":"}),(0,r.jsx)("span",{className:"font-mono",children:e.value}),n&&(0,r.jsx)("button",{onClick:()=>v(t),className:"bg-yellow-500 text-white px-2 py-0.5 rounded hover:bg-yellow-600 ml-2",children:"Edit"}),d&&(0,r.jsx)("button",{onClick:()=>w(t),className:"bg-red-600 text-white px-2 py-0.5 rounded hover:bg-red-700 ml-1",children:"Delete"})]})},e.key))})]})};function d(){let[e,t]=(0,s.useState)([]),[a,d]=(0,s.useState)(null),[i,l]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[h,g]=(0,s.useState)([]),[b,y]=(0,s.useState)([]),[j,v]=(0,s.useState)(""),[f,w]=(0,s.useState)(""),[N,S]=(0,s.useState)(!1),[C,A]=(0,s.useState)(!1);async function k(){if("function"!=typeof indexedDB.databases)return void d("Your browser does not support indexedDB.databases().");try{let e=(await indexedDB.databases()).map(e=>e.name).filter(Boolean);g(e),e.length>0?p(t=>t&&e.includes(t)?t:e[0]):p("")}catch(e){d("Failed to list databases")}}function I(e){if(!e.objectStoreNames.contains(m))return void t([]);let a=e.transaction(m,"readonly").objectStore(m).getAll();a.onerror=()=>d("Failed to retrieve items"),a.onsuccess=()=>{t(a.result)}}return(0,s.useEffect)(()=>{k()},[]),(0,s.useEffect)(()=>{if(!u){y([]),x("");return}let e=indexedDB.open(u);e.onsuccess=()=>{let t=e.result,a=Array.from(t.objectStoreNames);y(a),a.length>0?x(e=>a.includes(e)?e:a[0]):x(""),t.close()},e.onerror=()=>{d("Failed to open database to list stores"),y([]),x("")}},[u]),(0,s.useEffect)(()=>{if(!u.trim()||!m.trim())return void t([]);let e=indexedDB.open(u);e.onerror=()=>d("Failed to open database"),e.onsuccess=()=>{I(e.result)}},[u,m]),(0,r.jsxs)("main",{className:"max-w-3xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"IndexedDB Items"}),a&&(0,r.jsx)("p",{className:"text-red-600 mb-4",children:a}),(0,r.jsx)(n,{items:h.map(e=>({key:e,value:""})),onChange:e=>{let t=e.map(e=>e.key),a=t.find(e=>!h.includes(e));if(a){v(a),function(){if(!j.trim())return;let e=indexedDB.open(j,1);e.onupgradeneeded=e=>{e.target.result.createObjectStore("default",{keyPath:"id",autoIncrement:!0})},e.onsuccess=()=>{v(""),k()},e.onerror=()=>d("Failed to create database")}();return}let r=h.find(e=>!t.includes(e));if(r){p(r),S(!0),function(){if(!u)return;let e=indexedDB.deleteDatabase(u);e.onsuccess=()=>{S(!1),p(""),x(""),k()},e.onerror=()=>d("Failed to delete database")}();return}},allowEdit:!1,allowDelete:!0,allowValueEdit:!1}),(0,r.jsx)(n,{items:b.map(e=>({key:e,value:""})),onChange:e=>{let t=e.map(e=>e.key),a=t.find(e=>!b.includes(e));if(a){w(a),function(){if(!u||!f.trim())return;let e=indexedDB.open(u);e.onsuccess=()=>{let t=e.result,a=t.version+1;t.close();let r=indexedDB.open(u,a);r.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(f)||t.createObjectStore(f,{keyPath:"id",autoIncrement:!0})},r.onsuccess=()=>{w(""),k(),p(u)},r.onerror=()=>d("Failed to create store")},e.onerror=()=>d("Failed to open database for store creation")}();return}let r=b.find(e=>!t.includes(e));if(r){x(r),A(!0),function(){if(!u||!m)return;let e=indexedDB.open(u);e.onsuccess=()=>{let t=e.result,a=t.version+1;t.close();let r=indexedDB.open(u,a);r.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(m)&&t.deleteObjectStore(m)},r.onsuccess=()=>{A(!1),x(""),k(),p(u)},r.onerror=()=>d("Failed to delete store")},e.onerror=()=>d("Failed to open database for store deletion")}();return}},allowEdit:!1,allowDelete:!0,allowValueEdit:!1}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),function(){if(!i.trim()||!o.trim()||!u.trim()||!m.trim())return;let e=indexedDB.open(u);e.onsuccess=()=>{let t=e.result;if(!t.objectStoreNames.contains(m))return void d("Selected store does not exist in this database");let a=t.transaction(m,"readwrite");a.objectStore(m).put({key:i,value:o}),a.oncomplete=()=>{I(t),l(""),c("")},a.onerror=()=>d("Failed to add item")},e.onerror=()=>d("Failed to open database")}()},className:"flex space-x-4 mb-6",children:[(0,r.jsx)("input",{type:"text",placeholder:"Key",value:i,onChange:e=>l(e.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Value",value:o,onChange:e=>c(e.target.value),className:"flex-1 border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add"})]}),0===e.length&&!a&&(0,r.jsx)("p",{children:"No items found."}),(0,r.jsx)("ul",{className:"space-y-2",children:e.map(e=>(0,r.jsxs)("li",{className:"p-4 border rounded bg-gray-50",children:[(0,r.jsxs)("strong",{children:[e.key,":"]})," ",e.value]},e.id))})]})}},4647:(e,t,a)=>{Promise.resolve().then(a.bind(a,9927)),Promise.resolve().then(a.bind(a,6268)),Promise.resolve().then(a.bind(a,2484)),Promise.resolve().then(a.bind(a,1058)),Promise.resolve().then(a.bind(a,76))},6268:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(6814),s=a(2094),n=a(217),d=a(6271);function i(){let e=(0,d.kk)(()=>n.db.budgetEntries.toArray(),[],[]),t=(0,d.kk)(()=>n.db.categories.toArray(),[],[]),a=(0,d.kk)(()=>n.db.transactions.toArray(),[],[]),i=(0,d.kk)(()=>n.db.receipts.toArray(),[],[]),[l,o]=(0,s.useState)({name:"",amount:0}),[c,u]=(0,s.useState)({name:"",description:"",budgetId:0}),[p,m]=(0,s.useState)({date:new Date().toISOString().split("T")[0],categoryId:0,payerPayee:"",amount:0,comment:"",direction:"outgoing"}),[x,h]=(0,s.useState)({t:"",s:"",fn:"",i:"",fp:"",n:"",transactionId:0});async function g(e){if(e.preventDefault(),l.name.trim()&&!(l.amount<=0))try{await n.db.addBudgetEntry(l),o({name:"",amount:0})}catch(e){console.error("Error adding budget:",e)}}async function b(e){if(e.preventDefault(),c.name.trim()&&c.description.trim()&&!(c.budgetId<=0))try{await n.db.addCategory(c),u({name:"",description:"",budgetId:0})}catch(e){console.error("Error adding category:",e)}}async function y(e){if(e.preventDefault(),p.payerPayee.trim()&&!(p.amount<=0)&&!(p.categoryId<=0))try{let e={...p,date:new Date(p.date)};await n.db.addTransaction(e),m({date:new Date().toISOString().split("T")[0],categoryId:0,payerPayee:"",amount:0,comment:"",direction:"outgoing"})}catch(e){console.error("Error adding transaction:",e)}}async function j(e){if(e.preventDefault(),x.t&&x.s&&x.fn&&x.i&&x.fp&&x.n)try{await n.db.addReceipt(x),h({t:"",s:"",fn:"",i:"",fp:"",n:"",transactionId:0})}catch(e){console.error("Error adding receipt:",e)}}return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Finance Manager"}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Budget Entries"}),(0,r.jsxs)("form",{onSubmit:g,className:"flex gap-4 mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Budget Name",value:l.name,onChange:e=>o({...l,name:e.target.value}),className:"flex-1 border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"number",placeholder:"Amount",value:l.amount,onChange:e=>o({...l,amount:parseFloat(e.target.value)||0}),className:"w-32 border border-gray-300 rounded px-3 py-2",step:"0.01",required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add Budget"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e&&e.map(e=>(0,r.jsxs)("div",{className:"border rounded p-3",children:[(0,r.jsx)("h3",{className:"font-semibold",children:e.name}),(0,r.jsxs)("p",{className:"text-green-600",children:["$",e.amount.toFixed(2)]})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Categories"}),(0,r.jsxs)("form",{onSubmit:b,className:"flex gap-4 mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Category Name",value:c.name,onChange:e=>u({...c,name:e.target.value}),className:"flex-1 border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Description",value:c.description,onChange:e=>u({...c,description:e.target.value}),className:"flex-1 border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsxs)("select",{value:c.budgetId,onChange:e=>u({...c,budgetId:parseInt(e.target.value)||0}),className:"border border-gray-300 rounded px-3 py-2",required:!0,children:[(0,r.jsx)("option",{value:0,children:"Select Budget"}),e&&e.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Add Category"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t&&t.map(t=>{var a;return(0,r.jsxs)("div",{className:"border rounded p-3",children:[(0,r.jsx)("h3",{className:"font-semibold",children:t.name}),(0,r.jsx)("p",{className:"text-gray-600",children:t.description}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Budget: ",e&&(null==(a=e.find(e=>e.id===t.budgetId))?void 0:a.name)||"Unknown"]})]},t.id)})})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Transactions"}),(0,r.jsxs)("form",{onSubmit:y,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,r.jsx)("input",{type:"date",value:p.date,onChange:e=>m({...p,date:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsxs)("select",{value:p.categoryId,onChange:e=>m({...p,categoryId:parseInt(e.target.value)||0}),className:"border border-gray-300 rounded px-3 py-2",required:!0,children:[(0,r.jsx)("option",{value:0,children:"Select Category"}),t&&t.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsx)("input",{type:"text",placeholder:"Payer/Payee",value:p.payerPayee,onChange:e=>m({...p,payerPayee:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"number",placeholder:"Amount",value:p.amount,onChange:e=>m({...p,amount:parseFloat(e.target.value)||0}),className:"border border-gray-300 rounded px-3 py-2",step:"0.01",required:!0}),(0,r.jsxs)("select",{value:p.direction,onChange:e=>m({...p,direction:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0,children:[(0,r.jsx)("option",{value:"outgoing",children:"Outgoing"}),(0,r.jsx)("option",{value:"incoming",children:"Incoming"})]}),(0,r.jsx)("input",{type:"text",placeholder:"Comment (optional)",value:p.comment,onChange:e=>m({...p,comment:e.target.value}),className:"border border-gray-300 rounded px-3 py-2"}),(0,r.jsx)("button",{type:"submit",className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Add Transaction"})]}),(0,r.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a&&a.map(e=>{var a;return(0,r.jsxs)("div",{className:"border rounded p-3 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:e.payerPayee}),(0,r.jsxs)("span",{className:"ml-2 ".concat("incoming"===e.direction?"text-green-600":"text-red-600"),children:["$",e.amount.toFixed(2)]}),(0,r.jsx)("span",{className:"text-gray-500 ml-2",children:t&&(null==(a=t.find(t=>t.id===e.categoryId))?void 0:a.name)})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()})]},e.id)})})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Receipts"}),(0,r.jsxs)("form",{onSubmit:j,className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Timestamp (t)",value:x.t,onChange:e=>h({...x,t:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Sum (s)",value:x.s,onChange:e=>h({...x,s:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Fiscal Number (fn)",value:x.fn,onChange:e=>h({...x,fn:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Receipt Number (i)",value:x.i,onChange:e=>h({...x,i:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Fiscal Sign (fp)",value:x.fp,onChange:e=>h({...x,fp:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Receipt Type (n)",value:x.n,onChange:e=>h({...x,n:e.target.value}),className:"border border-gray-300 rounded px-3 py-2",required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Add Receipt"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i&&i.map(e=>(0,r.jsx)("div",{className:"border rounded p-3",children:(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"t:"})," ",e.t]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"s:"})," ",e.s]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"fn:"})," ",e.fn]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"i:"})," ",e.i]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"fp:"})," ",e.fp]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"n:"})," ",e.n]})]})},e.id))})]})]})}},9927:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(6814),s=a(2094);let n=[{id:1,title:"Section 1",content:"Content for section 1."},{id:2,title:"Section 2",content:"Content for section 2."},{id:3,title:"Section 3",content:"Content for section 3."}];function d(){let[e,t]=(0,s.useState)({}),a=e=>{t(t=>({...t,[e]:!t[e]}))};return(0,r.jsx)("div",{className:"max-w-md mx-auto mt-10 space-y-4",children:n.map(t=>{let{id:s,title:n,content:d}=t;return(0,r.jsxs)("div",{className:"border rounded-md",children:[(0,r.jsxs)("button",{onClick:()=>a(s),className:"w-full text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 focus:outline-none flex justify-between items-center","aria-expanded":!!e[s],"aria-controls":"accordion-content-".concat(s),id:"accordion-header-".concat(s),children:[(0,r.jsx)("span",{children:n}),(0,r.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 ".concat(e[s]?"rotate-180":"rotate-0"),fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),e[s]&&(0,r.jsx)("div",{id:"accordion-content-".concat(s),role:"region","aria-labelledby":"accordion-header-".concat(s),className:"px-4 py-3 bg-white",children:d})]},s)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[172,788,97,358],()=>t(4647)),_N_E=e.O()}]);