(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{1131:(e,r,t)=>{Promise.resolve().then(t.bind(t,7374))},7374:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(6814),d=t(2094),s=t(217),n=t(6271),l=t(6979);function i(){let[e,r]=(0,d.useState)(!1),[t,i]=(0,d.useState)({name:"",description:"",type:"Cash",startingAmount:0}),[o,c]=(0,d.useState)(null),[g,u]=(0,d.useState)({name:"",description:"",type:"Cash",startingAmount:0}),[x,h]=(0,d.useState)(null),[m,p]=(0,d.useState)(null),y=(0,n.kk)(()=>s.db.getAllAccounts(),[],[]),b=async e=>{if(e.preventDefault(),t.name.trim())try{await s.db.addAccount(t),i({name:"",description:"",type:"Cash",startingAmount:0}),r(!1),p("Account added successfully!"),setTimeout(()=>p(null),l.Ez)}catch(e){console.error("Error adding account:",e),h("Failed to add account")}},k=e=>{c(e),u({name:e.name,description:e.description,type:e.type,startingAmount:e.startingAmount})},v=async e=>{if(e.preventDefault(),(null==o?void 0:o.id)&&g.name.trim())try{await s.db.updateAccount(o.id,g),c(null),p("Account updated successfully!"),setTimeout(()=>p(null),l.Ez)}catch(e){console.error("Error updating account:",e),h("Failed to update account")}},f=()=>{c(null),u({name:"",description:"",type:"Cash",startingAmount:0})},j=async e=>{try{await s.db.deleteAccount(e),p("Account deleted successfully!"),setTimeout(()=>p(null),l.Ez)}catch(e){console.error("Error deleting account:",e),h("Failed to delete account")}},N=e=>{switch(e){case"Cash":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Card":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"Bank":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}};return(0,a.jsx)("div",{className:l.Z,children:(0,a.jsxs)("div",{className:l.zi,children:[(0,a.jsx)("h1",{className:l.uQ,children:"Accounts"}),x&&(0,a.jsx)("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded mb-6",children:x}),m&&(0,a.jsx)("div",{className:"bg-green-100 dark:bg-green-900/20 border border-green-400 dark:border-green-800 text-green-700 dark:text-green-400 px-4 py-3 rounded mb-6",children:m}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow dark:shadow-gray-900/50",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold p-6 border-b border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white",children:"Your Accounts"}),y&&y.length>0?(0,a.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:y.map(e=>(0,a.jsx)("div",{className:"p-6",children:(null==o?void 0:o.id)===e.id?(0,a.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Account Name",value:g.name,onChange:e=>u({...g,name:e.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0}),(0,a.jsx)("input",{type:"text",placeholder:"Description",value:g.description,onChange:e=>u({...g,description:e.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),(0,a.jsxs)("select",{value:g.type,onChange:e=>u({...g,type:e.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[(0,a.jsx)("option",{value:"Cash",children:"Cash"}),(0,a.jsx)("option",{value:"Card",children:"Card"}),(0,a.jsx)("option",{value:"Bank",children:"Bank"})]}),(0,a.jsx)("input",{type:"number",placeholder:"Starting Amount",value:g.startingAmount,onChange:e=>u({...g,startingAmount:parseFloat(e.target.value)||0}),className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Save"}),(0,a.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"})]})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-center",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Account Name"}),(0,a.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Description"}),(0,a.jsx)("div",{className:"text-gray-900 dark:text-white",children:e.description||"No description"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Type"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(N(e.type)),children:e.type})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Starting Amount"}),(0,a.jsx)("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:e.startingAmount.toFixed(2)})]}),(0,a.jsxs)("div",{className:"md:col-span-2 lg:col-span-4 flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>k(e),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>j(e.id),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]})},e.id))}):(0,a.jsx)("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No accounts found. Create your first account to get started."})]}),(0,a.jsx)("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 md:bottom-8 md:right-8 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 z-50 flex items-center justify-center","aria-label":"Add new account",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Add New Account"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account Name"}),(0,a.jsx)("input",{type:"text",placeholder:"Enter account name",value:t.name,onChange:e=>i({...t,name:e.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,a.jsx)("input",{type:"text",placeholder:"Optional description",value:t.description,onChange:e=>i({...t,description:e.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account Type"}),(0,a.jsxs)("select",{value:t.type,onChange:e=>i({...t,type:e.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[(0,a.jsx)("option",{value:"Cash",children:"Cash"}),(0,a.jsx)("option",{value:"Card",children:"Card"}),(0,a.jsx)("option",{value:"Bank",children:"Bank"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Starting Amount"}),(0,a.jsx)("input",{type:"number",placeholder:"Enter starting amount",value:t.startingAmount,onChange:e=>i({...t,startingAmount:parseFloat(e.target.value)||0}),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Add Account"}),(0,a.jsx)("button",{type:"button",onClick:()=>{r(!1),i({name:"",description:"",type:"Cash",startingAmount:0})},className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Cancel"})]})]})]})})})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[271,151,788,97,358],()=>r(1131)),_N_E=e.O()}]);